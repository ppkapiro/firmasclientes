2024-08-02 20:04:50,014 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/180 ORLANDO PEDRO RUBIO RUIZ_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,016 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/109 NORMA HIDALGO_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,017 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/79 NEREIDA PALMES GONZALEZ_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,018 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/224 MARIA ESTHER MORALES CONCEPCION_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,020 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/87 MARIA TERESA LEAL ALFARO_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,021 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/108 PEDRO GUEVARA_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,022 INFO: Añadiendo /var/www/firmasclientes/output/Week_2024-08-05/80 JUANA LUCRECIA ROSALES ROSABAL_Week_08-05-2024.pdf al archivo ZIP [in /var/www/firmasclientes/app.py:171]
2024-08-02 20:04:50,024 INFO: Archivo ZIP creado correctamente: /var/www/firmasclientes/output/output.zip [in /var/www/firmasclientes/app.py:177]
2024-08-02 20:04:50,025 INFO: Contenido del archivo ZIP: ['Week_2024-07-29/220 BRUNO JOSE MACHADO_Week_07-29-2024.pdf', 'Week_2024-07-29/75 SONIA DELIS_Week_07-29-2024.pdf', 'Week_2024-07-29/108 PEDRO GUEVARA_Week_07-29-2024.pdf', 'Week_2024-07-29/221 NORA STELLA BENEDIT_Week_07-29-2024.pdf', 'Week_2024-07-29/205 NESTOR GONZALEZ_Week_07-29-2024.pdf', 'Week_2024-07-29/79 NEREIDA PALMES GONZALEZ_Week_07-29-2024.pdf', 'Week_2024-07-29/224 MARIA ESTHER MORALES CONCEPCION_Week_07-29-2024.pdf', 'Week_2024-07-29/179 GISELLE FRIAS_Week_07-29-2024.pdf', 'Week_2024-07-29/180 ORLANDO PEDRO RUBIO RUIZ_Week_07-29-2024.pdf', 'Week_2024-07-29/87 MARIA TERESA LEAL ALFARO_Week_07-29-2024.pdf', 'Week_2024-07-29/80 JUANA LUCRECIA ROSALES ROSABAL_Week_07-29-2024.pdf', 'Week_2024-07-29/109 NORMA HIDALGO_Week_07-29-2024.pdf', 'Week_2024-08-05/179 GISELLE FRIAS_Week_08-05-2024.pdf', 'Week_2024-08-05/221 NORA STELLA BENEDIT_Week_08-05-2024.pdf', 'Week_2024-08-05/205 NESTOR GONZALEZ_Week_08-05-2024.pdf', 'Week_2024-08-05/220 BRUNO JOSE MACHADO_Week_08-05-2024.pdf', 'Week_2024-08-05/75 SONIA DELIS_Week_08-05-2024.pdf', 'Week_2024-08-05/180 ORLANDO PEDRO RUBIO RUIZ_Week_08-05-2024.pdf', 'Week_2024-08-05/109 NORMA HIDALGO_Week_08-05-2024.pdf', 'Week_2024-08-05/79 NEREIDA PALMES GONZALEZ_Week_08-05-2024.pdf', 'Week_2024-08-05/224 MARIA ESTHER MORALES CONCEPCION_Week_08-05-2024.pdf', 'Week_2024-08-05/87 MARIA TERESA LEAL ALFARO_Week_08-05-2024.pdf', 'Week_2024-08-05/108 PEDRO GUEVARA_Week_08-05-2024.pdf', 'Week_2024-08-05/80 JUANA LUCRECIA ROSALES ROSABAL_Week_08-05-2024.pdf'] [in /var/www/firmasclientes/app.py:182]
2024-08-02 20:04:50,025 INFO: Contenido del directorio de salida después de crear el ZIP: ['output.zip', 'Week_2024-07-29', 'Week_2024-08-05'] [in /var/www/firmasclientes/app.py:241]
2024-08-02 20:04:50,025 INFO: Iniciando limpieza de archivos [in /var/www/firmasclientes/app.py:246]
2024-08-02 20:04:50,026 ERROR: Error durante la limpieza: cannot access local variable 'file_path' where it is not associated with a value [in /var/www/firmasclientes/app.py:266]
Traceback (most recent call last):
  File "/var/www/firmasclientes/app.py", line 247, in cleanup
    if file_path and os.path.exists(file_path):
       ^^^^^^^^^
UnboundLocalError: cannot access local variable 'file_path' where it is not associated with a value
2024-08-02 20:05:14,550 INFO: Realizando diagnóstico del entorno [in /var/www/firmasclientes/app.py:49]
2024-08-02 20:05:14,550 INFO: Contenido de UPLOAD_FOLDER: ['weekly_schedule_clients_final_example.csv', 'weekly_schedule_clients_final_example_1.csv'] [in /var/www/firmasclientes/app.py:50]
2024-08-02 20:05:14,550 INFO: Contenido de OUTPUT_FOLDER: [] [in /var/www/firmasclientes/app.py:51]
2024-08-02 20:05:35,203 INFO: Realizando diagnóstico del entorno [in /var/www/firmasclientes/app.py:49]
2024-08-02 20:05:35,204 INFO: Contenido de UPLOAD_FOLDER: ['weekly_schedule_clients_final_example.csv', 'weekly_schedule_clients_final_example_1.csv'] [in /var/www/firmasclientes/app.py:50]
2024-08-02 20:05:35,204 INFO: Contenido de OUTPUT_FOLDER: [] [in /var/www/firmasclientes/app.py:51]
2024-08-02 20:05:35,204 INFO: Recepción de archivo CSV iniciado [in /var/www/firmasclientes/app.py:195]
2024-08-02 20:05:35,205 INFO: Opción de fecha seleccionada: range [in /var/www/firmasclientes/app.py:200]
2024-08-02 20:05:35,205 INFO: Periodo de tiempo seleccionado: morning [in /var/www/firmasclientes/app.py:201]
2024-08-02 20:05:35,206 INFO: Procesando rango de fechas [in /var/www/firmasclientes/app.py:209]
2024-08-02 20:05:35,206 INFO: Fechas de rango recibidas: inicio=2024-07-09, fin=2024-08-20 [in /var/www/firmasclientes/app.py:212]
2024-08-02 20:05:35,206 INFO: Generando fechas semanales desde 2024-07-09 hasta 2024-08-20 [in /var/www/firmasclientes/app.py:144]
2024-08-02 20:05:35,207 INFO: Fechas convertidas: start_date=2024-07-09 00:00:00, end_date=2024-08-20 00:00:00 [in /var/www/firmasclientes/app.py:147]
2024-08-02 20:05:35,207 INFO: Fecha añadida: 2024-07-09 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,207 INFO: Próxima fecha a considerar: 2024-07-16 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,207 INFO: Fecha añadida: 2024-07-16 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,208 INFO: Próxima fecha a considerar: 2024-07-23 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,208 INFO: Fecha añadida: 2024-07-23 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,208 INFO: Próxima fecha a considerar: 2024-07-30 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,208 INFO: Fecha añadida: 2024-07-30 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,208 INFO: Próxima fecha a considerar: 2024-08-06 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,209 INFO: Fecha añadida: 2024-08-06 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,209 INFO: Próxima fecha a considerar: 2024-08-13 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,209 INFO: Fecha añadida: 2024-08-13 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,210 INFO: Próxima fecha a considerar: 2024-08-20 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,210 INFO: Fecha añadida: 2024-08-20 [in /var/www/firmasclientes/app.py:153]
2024-08-02 20:05:35,210 INFO: Próxima fecha a considerar: 2024-08-27 00:00:00 [in /var/www/firmasclientes/app.py:155]
2024-08-02 20:05:35,210 INFO: Fechas generadas: ['2024-07-09', '2024-07-16', '2024-07-23', '2024-07-30', '2024-08-06', '2024-08-13', '2024-08-20'] [in /var/www/firmasclientes/app.py:157]
2024-08-02 20:05:35,211 INFO: Fechas seleccionadas/generadas: ['2024-07-09', '2024-07-16', '2024-07-23', '2024-07-30', '2024-08-06', '2024-08-13', '2024-08-20'] [in /var/www/firmasclientes/app.py:218]
2024-08-02 20:05:35,211 INFO: Archivo CSV guardado en: /var/www/firmasclientes/uploads/weekly_schedule_clients_final_example_1.csv [in /var/www/firmasclientes/app.py:228]
2024-08-02 20:05:35,211 INFO: Iniciando la creación de PDFs semanales desde el CSV para las fechas: ['2024-07-09', '2024-07-16', '2024-07-23', '2024-07-30', '2024-08-06', '2024-08-13', '2024-08-20'] [in /var/www/firmasclientes/app.py:55]
2024-08-02 20:05:35,213 INFO: CSV leído correctamente: /var/www/firmasclientes/uploads/weekly_schedule_clients_final_example_1.csv [in /var/www/firmasclientes/app.py:62]
2024-08-02 20:05:35,213 INFO: Generando PDFs para la semana comenzando el 2024-07-09 00:00:00 [in /var/www/firmasclientes/app.py:66]
2024-08-02 20:05:35,214 INFO: Llenando PDF para 87 MARIA TERESA LEAL ALFARO [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,363 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-09/87 MARIA TERESA LEAL ALFARO_Week_07-09-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,364 INFO: Llenando PDF para 75 SONIA DELIS [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,472 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-09/75 SONIA DELIS_Week_07-09-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,473 INFO: Generando PDFs para la semana comenzando el 2024-07-16 00:00:00 [in /var/www/firmasclientes/app.py:66]
2024-08-02 20:05:35,474 INFO: Llenando PDF para 87 MARIA TERESA LEAL ALFARO [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,579 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-16/87 MARIA TERESA LEAL ALFARO_Week_07-16-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,580 INFO: Llenando PDF para 75 SONIA DELIS [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,725 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-16/75 SONIA DELIS_Week_07-16-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,726 INFO: Generando PDFs para la semana comenzando el 2024-07-23 00:00:00 [in /var/www/firmasclientes/app.py:66]
2024-08-02 20:05:35,727 INFO: Llenando PDF para 87 MARIA TERESA LEAL ALFARO [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,835 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-23/87 MARIA TERESA LEAL ALFARO_Week_07-23-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,836 INFO: Llenando PDF para 75 SONIA DELIS [in /var/www/firmasclientes/app.py:105]
2024-08-02 20:05:35,991 INFO: PDF creado: /var/www/firmasclientes/output/Week_2024-07-23/75 SONIA DELIS_Week_07-23-2024.pdf [in /var/www/firmasclientes/app.py:98]
2024-08-02 20:05:35,992 INFO: Generando PDFs para la semana comenzando el 2024-07-30 00:00:00 [in /var/www/firmasclientes/app.py:66]
